@model IEnumerable<FlightJobs.Models.SearchJobTipsViewModel>

<style>
    div.card {
        box-shadow: 0 4px 8px 2px rgba(0, 0, 0, 0.2), 0 6px 20px 2px rgba(0, 0, 0, 0.19);
        padding-bottom: 5px;
        height: 140px;
        overflow: auto;
        font-size: xx-small;
    }
</style>


<div class="card">
    @if (Model.Count() > 0)
    {
        <table class="table table-sm table-condensed table-bordered table-hover" style="padding:0px">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.AirportICAO)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.AirportName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Distance)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.AirportRunwaySize)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.AirportElevation)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Pax)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Cargo)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Pay)
                </th>
            </tr>

            @foreach (var item in Model)
            {
            <tr style="cursor:pointer;">
                <td>
                    @Html.DisplayFor(modelItem => item.AirportICAO)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.AirportName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Distance) NM
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.AirportRunwaySize) ft
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.AirportElevation) ft
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Pax)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Cargo)
                </td>
                <td>
                    @string.Format("{0:C}", item.Pay)
                </td>
                @if (item.IdJob > 0)
                {
                    <td>
                        <input onclick="location.href='@Url.Action("CloneJob", "SearchJobs", new { jobId = @item.IdJob })'" type="button" value="Clone" class="btn btn-default btn-xs" style="margin:0px; padding:0px;" />
                    </td>
                }
            </tr>
            }

        </table>
        <div class="row" style="margin-right:0px;">
            <div class="col-md-12">
                <input id="arrival-tips-update" type="button" value="Reload" class="btn btn-info btn-xs pull-right" />
            </div>
        </div>
    }
    else
    {
        <h3>No arrival found for this departure.</h3>
    }
</div>

<script type='text/javascript'>

    $(document).ready(function () {
        $('table tr').click(function (event) {
            var value = $(this).closest('tr').children('td:first').text();
            $('#Arrival').val(value.trim());
            $("#arrival-tips-table").hide(500);
        });
    });

    $('#arrival-tips-update').click(function () {
        $.ajax({
            url: '@Url.Action("ArrivalTips", "SearchJobs")',
            type: "Get",
            data: { departure: $('#Departure').val() },
            success: function (result) {
                if (result != null && result != '') {
                    $("#arrival-tips-table").html(result);
                }
            }
        });
        return false;

    });



</script>