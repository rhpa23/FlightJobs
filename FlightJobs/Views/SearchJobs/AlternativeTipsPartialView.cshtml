@model IEnumerable<FlightJobs.Models.SearchJobTipsViewModel>

<style>
    div.card {
        box-shadow: 0 4px 8px 2px rgba(0, 0, 0, 0.2), 0 6px 20px 2px rgba(0, 0, 0, 0.19);
        padding-bottom: 5px;
        height: 140px;
        overflow: auto;
        font-size: xx-small;
    }
</style>


<div class="card">
    @if (Model.Count() > 0)
    {
        <table class="table table-sm table-condensed table-bordered table-hover" style="padding:0px">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.AirportICAO)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.AirportName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Distance)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.AirportRunwaySize)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.AirportElevation)
                </th>
            </tr>

            @foreach (var item in Model)
            {
                <tr style="cursor:pointer;">
                    <td>
                        @Html.DisplayFor(modelItem => item.AirportICAO)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.AirportName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Distance) NM
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.AirportRunwaySize) ft
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.AirportElevation) ft
                    </td>
                </tr>
            }

        </table>
        <div class="row" style="margin-right:0px;">
            <div class="col-md-6"  style="padding-right:2px; ">
                <label class="control-label pull-right" >Range:</label>
            </div>
            <div class="col-md-2" style="padding-left:5px;">
                <input id="alternative-tips-range" type="number" value="40" min="10" max="250" required="required" style="width:50px; " />
            </div>
            <div class="col-md-4">
                <input id="alternative-tips-update" type="button" value="Update" class="btn btn-info btn-xs pull-right" />
            </div>
        </div>
    }
    else
    {
        <h3>No alternatives found for this destination.</h3>
    }
</div>

<script type='text/javascript'>

    $(document).ready(function () {
        $('table tr').click(function (event) {
            var value = $(this).closest('tr').children('td:first').text();
            $('#Alternative').val(value.trim());
            $("#alternative-tips-table").hide(500);
        });
    });

    $('#alternative-tips-update').click(function () {
        $.ajax({
            url: '@Url.Action("AlternativeTips", "SearchJobs")',
            type: "Get",
            data: { destination: $('#Arrival').val(), range: $('#alternative-tips-range').val() },
            success: function (result) {
                if (result != null && result != '') {
                    $("#alternative-tips-table").html(result);
                }
            }
        });
        return false;

    });

</script>